(this["webpackJsonpweather-api"]=this["webpackJsonpweather-api"]||[]).push([[0],{11:function(e,t,r){e.exports={position:"Loader_position__2MPw1",lds_ellipsis:"Loader_lds_ellipsis__hmAlb","lds-ellipsis1":"Loader_lds-ellipsis1__2yOT7","lds-ellipsis2":"Loader_lds-ellipsis2__2zSDJ","lds-ellipsis3":"Loader_lds-ellipsis3__1X2Wz"}},22:function(e,t,r){},23:function(e,t,r){},34:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),c=r(7),i=r.n(c),s=(r(22),r(23),r(2)),o=r(4),l=r.n(o),d=r(5),u=r(17),p=r(12),j=r(6),b=r(15),h=r(16),m=function(){function e(){Object(b.a)(this,e)}return Object(h.a)(e,null,[{key:"getWeatherData",value:function(){var e=Object(d.a)(l.a.mark((function e(t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://api.openweathermap.org/data/2.5/weather?q=".concat(t,"&lang=ru&appid=a9ebdb68b0dbf40182f5638efcca3afd&units=metric"));case 2:return r=e.sent,e.prev=3,e.abrupt("return",r.json());case 7:return e.prev=7,e.t0=e.catch(3),e.abrupt("return","Not found");case 10:case"end":return e.stop()}}),e,null,[[3,7]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),f={currentWeather:{name:"Chegem",description:null,temp:10,wind:0,humidity:0,pressure:0,icon:null,iconCode:"",id:null},searchedCities:window.localStorage.getItem("listOfCities")?JSON.parse(window.localStorage.getItem("listOfCities")):{},loading:!1,alert:!1,error:""},O=Object(j.b)("weather/getWeatherThunk",function(){var e=Object(d.a)(l.a.mark((function e(t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=m.getWeatherData(t),e.abrupt("return",r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),x=Object(j.c)({name:"weather",initialState:f,reducers:{getWeather:function(e,t){e.currentWeather.name=t.payload.name,e.currentWeather.temp=t.payload.temp},deleteCity:function(e,t){delete e.searchedCities[t.payload],window.localStorage.setItem("listOfCities",JSON.stringify(e.searchedCities)),console.log(e.searchedCities)}},extraReducers:function(e){e.addCase(O.pending,(function(e,t){e.loading=!0})).addCase(O.fulfilled,(function(e,t){return"400"===t.payload.cod?(e.loading=!1,e.alert=!0,e.error="\u041f\u0443\u0441\u0442\u043e\u0439 \u0432\u0432\u043e\u0434. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u043e\u0440\u043e\u0434\u0430 \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430.",e):"404"===t.payload.cod?(e.loading=!1,e.alert=!0,e.error="\u0413\u043e\u0440\u043e\u0434 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d",e):("400"!==t.payload.cod&&(e.currentWeather=Object(p.a)(Object(p.a)({},e.currentWeather),{},{name:t.payload.name,temp:t.payload.main.temp,wind:t.payload.wind.speed,description:t.payload.weather[0].description,humidity:t.payload.main.humidity,pressure:t.payload.main.pressure,iconCode:t.payload.weather[0].icon,id:t.payload.id}),e.searchedCities[t.payload.id]=e.currentWeather,e.alert=!1,localStorage.setItem("listOfCities",JSON.stringify(e.searchedCities))),void(e.loading=!1))}))}}),g=x.actions,v=(g.getWeather,g.deleteCity),y=x.reducer,w=r(0),C=function(e){var t=e.text;return Object(w.jsx)("div",{className:"alert alert-info",role:"alert",children:t})},N=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),r=t[0],a=t[1],c=Object(s.b)(),i=Object(s.c)((function(e){return e.reducer.alert})),o=Object(s.c)((function(e){return e.reducer.error})),p=function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,c(O(r));case 3:a("");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)("form",{onSubmit:p,children:[i?Object(w.jsx)(C,{text:o}):null,Object(w.jsxs)("div",{className:"input-group mb-3",children:[Object(w.jsx)("input",{type:"text",className:"form-control",id:"title",value:r,name:"title",placeholder:"\u0413\u043e\u0440\u043e\u0434",onChange:function(e){a(e.target.value)}}),Object(w.jsx)("div",{className:"input-group-append",children:Object(w.jsx)("button",{className:"btn btn-secondary",type:"submit",children:"\u041f\u043e\u0438\u0441\u043a"})})]})]})})},_=function(e){var t=e.name,r=e.temp,n=e.description,a=e.wind,c=e.humidity,i=e.pressure,o=(e.icon,e.id),l=Object(s.b)();return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)("div",{className:"card",style:{marginBottom:"15px",marginTop:"15px"},children:[Object(w.jsxs)("h5",{className:"card-header",children:[t,Object(w.jsx)("button",{onClick:function(){return function(e){l(v(e))}(o)},style:{width:"40px"},type:"button",className:"close float-right","aria-label":"Close",children:Object(w.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(w.jsx)("div",{className:"card-body",children:Object(w.jsxs)("blockquote",{className:"blockquote mb-0",children:[Object(w.jsxs)("p",{children:[" \u0422\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430: ",r," \xb0C"]}),Object(w.jsx)("footer",{className:"blockquote-footer",children:n}),Object(w.jsxs)("footer",{className:"blockquote-footer",children:["c\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u0432\u0435\u0442\u0440\u0430 - ",a," \u043c/\u0441,"]}),Object(w.jsxs)("footer",{className:"blockquote-footer",children:["\u0412\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c - ",c," %"]}),Object(w.jsxs)("footer",{className:"blockquote-footer",children:["\u0414\u0430\u0432\u043b\u0435\u043d\u0438\u0435 - ",i," \u043c\u043c \u0440\u0442."]})]})})]})})},k=r(11),S=r.n(k),W=function(){return Object(w.jsx)("div",{className:S.a.position,children:Object(w.jsxs)("div",{className:S.a.lds_ellipsis,children:[Object(w.jsx)("div",{}),Object(w.jsx)("div",{}),Object(w.jsx)("div",{}),Object(w.jsx)("div",{})]})})},q=function(){var e=Object(s.c)((function(e){return Object.values(e.reducer.searchedCities)}));return Object(s.c)((function(e){return e.reducer.loading}))?Object(w.jsx)(W,{}):e&&0!==e.lenght?Object(w.jsx)("div",{className:"container",children:e.reverse().map((function(e){return Object(w.jsx)(_,{name:e.name,description:e.description,temp:e.temp,wind:e.wind,humidity:e.humidity,pressure:e.pressure,icon:e.icon,id:e.id},100*Math.random())}))}):Object(w.jsx)("h2",{children:"No data"})};var F=function(){var e=Object(s.c)((function(e){return e.reducer.currentWeather})),t=e.name;return e.icon,console.log(e),Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)("div",{className:"container",children:[Object(w.jsxs)("h3",{className:"App",children:["Hello, ",t]}),Object(w.jsx)(N,{}),Object(w.jsx)(q,{})]})})},L=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,35)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;r(e),n(e),a(e),c(e),i(e)}))},I=Object(j.a)({reducer:{reducer:y}});i.a.render(Object(w.jsx)(a.a.StrictMode,{children:Object(w.jsx)(s.a,{store:I,children:Object(w.jsx)(F,{})})}),document.getElementById("root")),L()}},[[34,1,2]]]);
//# sourceMappingURL=main.37def1ec.chunk.js.map