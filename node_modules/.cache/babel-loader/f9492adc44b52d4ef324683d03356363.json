{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport Service from '../service/service';\nconst initialState = {\n  currentWeather: {\n    description: 'Chegem',\n    temp: 10\n  },\n  searchedCities: []\n};\nexport const getWeatherThunk = createAsyncThunk('weather/getWeatherThunk', async id => {\n  const response = Service.getWeatherData(id);\n  console.log(response);\n  return response;\n});\nconst weatherSlice = createSlice({\n  name: 'weather',\n  initialState,\n  reducers: {\n    getWeather(state, action) {\n      state.currentWeather.description = action.payload.description;\n      state.currentWeather.temp = action.payload.temp;\n    }\n\n  },\n  extraReducers: builder => {\n    builder.addCase(getWeatherThunk.fulfilled, (state, action) => {\n      const temp = Math.floor(action.payload.main.temp - 273);\n      const name = action.payload.name;\n      console.log(temp, name);\n      state.currentWeather['description'] = name;\n      state.currentWeather['temp'] = temp;\n      state.searchedCities.push(state.currentWeather);\n    });\n  }\n});\nexport const {\n  getWeather\n} = weatherSlice.actions;\nexport default weatherSlice.reducer;","map":{"version":3,"sources":["C:/Users/RobertD/Desktop/MW Robert/weather-api/src/redux/reducer.js"],"names":["createAsyncThunk","createSlice","Service","initialState","currentWeather","description","temp","searchedCities","getWeatherThunk","id","response","getWeatherData","console","log","weatherSlice","name","reducers","getWeather","state","action","payload","extraReducers","builder","addCase","fulfilled","Math","floor","main","push","actions","reducer"],"mappings":"AAAA,SAASA,gBAAT,EAA2BC,WAA3B,QAA8C,kBAA9C;AACA,OAAOC,OAAP,MAAoB,oBAApB;AAEA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,cAAc,EAAE;AACdC,IAAAA,WAAW,EAAE,QADC;AAEdC,IAAAA,IAAI,EAAE;AAFQ,GADG;AAKnBC,EAAAA,cAAc,EAAE;AALG,CAArB;AAQA,OAAO,MAAMC,eAAe,GAAGR,gBAAgB,CAC7C,yBAD6C,EAE7C,MAAOS,EAAP,IAAc;AACZ,QAAMC,QAAQ,GAAGR,OAAO,CAACS,cAAR,CAAuBF,EAAvB,CAAjB;AACAG,EAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;AACA,SAAOA,QAAP;AACD,CAN4C,CAAxC;AASP,MAAMI,YAAY,GAAGb,WAAW,CAAC;AAC/Bc,EAAAA,IAAI,EAAE,SADyB;AAE/BZ,EAAAA,YAF+B;AAG/Ba,EAAAA,QAAQ,EAAE;AACRC,IAAAA,UAAU,CAACC,KAAD,EAAQC,MAAR,EAAgB;AACxBD,MAAAA,KAAK,CAACd,cAAN,CAAqBC,WAArB,GAAmCc,MAAM,CAACC,OAAP,CAAef,WAAlD;AACAa,MAAAA,KAAK,CAACd,cAAN,CAAqBE,IAArB,GAA4Ba,MAAM,CAACC,OAAP,CAAed,IAA3C;AACD;;AAJO,GAHqB;AAS/Be,EAAAA,aAAa,EAAGC,OAAD,IAAa;AAC1BA,IAAAA,OAAO,CAACC,OAAR,CAAgBf,eAAe,CAACgB,SAAhC,EAA2C,CAACN,KAAD,EAAQC,MAAR,KAAmB;AAC5D,YAAMb,IAAI,GAAGmB,IAAI,CAACC,KAAL,CAAWP,MAAM,CAACC,OAAP,CAAeO,IAAf,CAAoBrB,IAApB,GAA2B,GAAtC,CAAb;AACA,YAAMS,IAAI,GAAGI,MAAM,CAACC,OAAP,CAAeL,IAA5B;AACAH,MAAAA,OAAO,CAACC,GAAR,CAAYP,IAAZ,EAAkBS,IAAlB;AACAG,MAAAA,KAAK,CAACd,cAAN,CAAqB,aAArB,IAAsCW,IAAtC;AACAG,MAAAA,KAAK,CAACd,cAAN,CAAqB,MAArB,IAA+BE,IAA/B;AACAY,MAAAA,KAAK,CAACX,cAAN,CAAqBqB,IAArB,CAA0BV,KAAK,CAACd,cAAhC;AACD,KAPD;AAQD;AAlB8B,CAAD,CAAhC;AAqBA,OAAO,MAAM;AAAEa,EAAAA;AAAF,IAAiBH,YAAY,CAACe,OAApC;AACP,eAAef,YAAY,CAACgB,OAA5B","sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\r\nimport Service from '../service/service';\r\n\r\nconst initialState = {\r\n  currentWeather: {\r\n    description: 'Chegem',\r\n    temp: 10,\r\n  },\r\n  searchedCities: [],\r\n};\r\n\r\nexport const getWeatherThunk = createAsyncThunk(\r\n  'weather/getWeatherThunk',\r\n  async (id) => {\r\n    const response = Service.getWeatherData(id);\r\n    console.log(response);\r\n    return response;\r\n  }\r\n);\r\n\r\nconst weatherSlice = createSlice({\r\n  name: 'weather',\r\n  initialState,\r\n  reducers: {\r\n    getWeather(state, action) {\r\n      state.currentWeather.description = action.payload.description;\r\n      state.currentWeather.temp = action.payload.temp;\r\n    },\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder.addCase(getWeatherThunk.fulfilled, (state, action) => {\r\n      const temp = Math.floor(action.payload.main.temp - 273);\r\n      const name = action.payload.name;\r\n      console.log(temp, name);\r\n      state.currentWeather['description'] = name;\r\n      state.currentWeather['temp'] = temp;\r\n      state.searchedCities.push(state.currentWeather);\r\n    });\r\n  },\r\n});\r\n\r\nexport const { getWeather } = weatherSlice.actions;\r\nexport default weatherSlice.reducer;\r\n"]},"metadata":{},"sourceType":"module"}